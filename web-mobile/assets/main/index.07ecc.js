window.__require=function e(t,o,n){function r(a,s){if(!o[a]){if(!t[a]){var i=a.split("/");if(i=i[i.length-1],!t[i]){var p="function"==typeof __require&&__require;if(!s&&p)return p(i,!0);if(c)return c(i,!0);throw new Error("Cannot find module '"+a+"'")}a=i}var l=o[a]={exports:{}};t[a][0].call(l.exports,function(e){return r(t[a][1][e]||e)},l,l.exports,e,t,o,n)}return o[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({ActionFn:[function(e,t,o){"use strict";cc._RF.push(t,"54c39exLilPQqbijUnB+y2X","ActionFn");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.maskAction=function(e,t){e.scaleY=1;var o=cc.scaleTo(t,1,0);e.runAction(o)},c([s],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],BarrageControl:[function(e,t,o){"use strict";cc._RF.push(t,"028cbLFIRdCfL/6z1v6G7jk","BarrageControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../prefab/Barrage"),s=e("../Base/Message"),i=e("../Base/MessageCenter"),p=e("../Tools/ActionFn"),l=e("../Tools/CommonTools"),u=e("./SkillsControl"),f=cc._decorator,y=f.ccclass,h=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.barrage=["\u597d\u8036~~","\u5feb\u4e22\u5783\u573e\u5566!!","OHHHHHHHHHHHHHHHHHH","\u8a92\uff0c\u522b\u626d\u4e86\u5e8a\u90fd\u584c\u4e86\u5e95\u4e0b\u8fd8\u6709\u5783\u573eo(\u256f\u25a1\u2570)o","\u8fa3\u6761\u888b\u5b50\u8981\u5bc6\u5c01\u597d\u518d\u4e22\u5662","\u6c34\u69fd\u79ef\u6c34\u4e00\u5b9a\u8981\u6e05\u7406\u6389\uff01\uff01\uff01","\u5783\u573e\u6876\u8981\u6e05\u7406\u6389\uff01\uff01\uff01","\u5e08\u5085\u522b\u5ff5\u4e86\uff0c\u6e05\u7406\u5c31\u662f\u4e86"],t}return r(t,e),t.prototype.start=function(){this.control=u.SkillsControl.skills[3];var e=l.default.throttle(this.runMaskAction,1e3*this.control.cd);this.node.on(cc.Node.EventType.TOUCH_START,e,this)},t.prototype.runMaskAction=function(){this.control.num&&(a.default.buildBarrage(),p.default.maskAction(this.node.children[1],this.control.cd),i.default.SendCustomMessage(s.MessageType.Type_UI,s.MessageType.UI_RefreshSkillBarrage,-1))},c([y],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../Base/Message":"Message","../Base/MessageCenter":"MessageCenter","../Tools/ActionFn":"ActionFn","../Tools/CommonTools":"CommonTools","../prefab/Barrage":"Barrage","./SkillsControl":"SkillsControl"}],Barrage:[function(e,t,o){"use strict";cc._RF.push(t,"9e296Y6ocZC+7p0YyiJq6AF","Barrage");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../GamePlayer"),s=e("../Tools/CommonTools"),i=cc._decorator,p=i.ccclass,l=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=20,t.barrage=["\u597d\u8036~~","\u5feb\u4e22\u5783\u573e\u5566!!","OHHHHHHHHHHHHHHHHHH","\u8a92\uff0c\u522b\u626d\u4e86\u5e8a\u90fd\u584c\u4e86\u5e95\u4e0b\u8fd8\u6709\u5783\u573eo(\u256f\u25a1\u2570)o","\u8fa3\u6761\u888b\u5b50\u8981\u5bc6\u5c01\u597d\u518d\u4e22\u5662","\u6c34\u69fd\u79ef\u6c34\u4e00\u5b9a\u8981\u6e05\u7406\u6389\uff01\uff01\uff01","\u5783\u573e\u6876\u8981\u6e05\u7406\u6389\uff01\uff01\uff01","\u5e08\u5085\u522b\u5ff5\u4e86\uff0c\u6e05\u7406\u5c31\u662f\u4e86"],t}var o;return r(t,e),o=t,t.prototype.start=function(){o.instance=this},t.buildBarrage=function(){for(var e=o.instance.getRandomPoint(6*o.instance.node.width,o.instance.node.height),t=function(t){var n=a.default.getBarrageNode();n.position=cc.Vec3.ZERO;var r=n.getComponent(cc.Label),c=n.getComponent(cc.BoxCollider);r.string=s.default.getRandomElement(o.instance.barrage),r.fontSize=40,r.fontFamily="Microsoft YaHei",r.node.parent=o.instance.node,r.node.position=e[t],c.size=cc.size(r.node.width/2,r.node.height),r.node.runAction(cc.sequence(cc.moveBy(s.default.getRandomNum(15,20),cc.v2(-(n.width+n.x+6*o.instance.node.width),0)),cc.callFunc(function(){a.default.BarragePool.put(n)})))},n=0;n<e.length;n++)t(n)},t.prototype.getRandomPoint=function(e,t){for(var o=[],n=0;n<50;n++){var r=s.default.getRandomNum(0,e)+640,c=s.default.getRandomNum(0,t);c-=c%40,o.push(cc.v2(r,c))}return o},t.instance=null,o=c([p],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../GamePlayer":"GamePlayer","../Tools/CommonTools":"CommonTools"}],CDControl:[function(e,t,o){"use strict";cc._RF.push(t,"81456QJXw5L2ZfeqkgLdgXO","CDControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Base/Message"),s=e("../Base/MessageCenter"),i=e("../Tools/ActionFn"),p=e("../Tools/CommonTools"),l=e("./SkillsControl"),u=cc._decorator,f=u.ccclass,y=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){this.control=l.SkillsControl.skills[1];var e=p.default.throttle(this.runMaskAction,1e3*this.control.cd);this.node.on(cc.Node.EventType.TOUCH_START,e,this)},t.prototype.runMaskAction=function(){if(this.control.num){var e=l.SkillsControl.skills[0].cd;i.default.maskAction(this.node.children[1],this.control.cd),s.default.SendCustomMessage(a.MessageType.Type_UI,a.MessageType.UI_ChengeSkillCD,0),s.default.SendCustomMessage(a.MessageType.Type_UI,a.MessageType.UI_RefreshSkillCD,-1),setTimeout(function(){s.default.SendCustomMessage(a.MessageType.Type_UI,a.MessageType.UI_ChengeSkillCD,e)},1e3*this.control.cd)}},c([f],t)}(cc.Component));o.default=y,cc._RF.pop()},{"../Base/Message":"Message","../Base/MessageCenter":"MessageCenter","../Tools/ActionFn":"ActionFn","../Tools/CommonTools":"CommonTools","./SkillsControl":"SkillsControl"}],Cloud:[function(e,t,o){"use strict";cc._RF.push(t,"6c00cyH5m1LqqE3RUM7KzCR","Cloud");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.callFuntion=function(){console.log("callFuntion")},t.getUserInfo=function(){console.log("getUserInfo")},c([s],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],CommonTools:[function(e,t,o){"use strict";cc._RF.push(t,"0bb2cO9mshE6IiXeoFjFHER","CommonTools"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getRandomNum=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e.getRandomElement=function(e){return e[Math.floor(Math.random()*e.length)]},e.getUrlParams=function(e){var t={},o=e.split("?");if(o.length>1)for(var n=o[1].split("&"),r=0;r<n.length;r++){var c=n[r].split("=");t[c[0]]=c[1]}return t},e.debounce=function(e,t){var o;return function(){for(var n=this,r=[],c=0;c<arguments.length;c++)r[c]=arguments[c];o&&clearTimeout(o),o=setTimeout(function(){var t=n;e.apply(t,r)},t)}},e.throttle=function(e,t){var o;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!o){var c=this;e.apply(c,n),o=setTimeout(function(){o=null},t)}}},e}();o.default=n,cc._RF.pop()},{}],ComponentBase:[function(e,t,o){"use strict";cc._RF.push(t,"f12e3s3YX5O9JOnQcUZQQvL","ComponentBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.ReceivaMessage=function(){},c([s],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],DieState:[function(e,t,o){"use strict";cc._RF.push(t,"195d03haCdApJGwRIGvJ+Jn","DieState");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../FSMState"),s=cc._decorator,i=s.ccclass,p=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.OnEnter=function(){e.prototype.OnEnter.call(this);var t=this.component.getComponent(cc.Animation);t.stop(),t.play("EnemyDie")},t.prototype.OnUpdate=function(){e.prototype.OnUpdate.call(this)},c([i],t)}(a.default));o.default=p,cc._RF.pop()},{"../FSMState":"FSMState"}],EnemyControl:[function(e,t,o){"use strict";cc._RF.push(t,"6c8aelorLxEtqgdAxPJPgE2","EnemyControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setEnemyPrefab=null,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.getEnemyPrefab=this.setEnemyPrefab;for(var e=0;e<10;e++){var t=cc.instantiate(o.getEnemyPrefab);o.EnemyPool.put(t)}},t.prototype.start=function(){this.createNode()},t.prototype.update=function(e){Math.random()<o.probability*e&&this.createNode()},t.getEnemyNode=function(){var e=o.EnemyPool.get();return o.EnemyPool.size()<1&&(e=cc.instantiate(o.getEnemyPrefab)),e},t.prototype.createNode=function(){o.getEnemyNode().parent=this.node},t.getEnemyPrefab=null,t.EnemyPool=new cc.NodePool,t.probability=.3,c([i(cc.Prefab)],t.prototype,"setEnemyPrefab",void 0),o=c([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],EnemyManager:[function(e,t,o){"use strict";cc._RF.push(t,"9e5af3/1lBH/YnZ5MW8dnJk","EnemyManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Base/ManagerBase"),s=e("../Base/Message"),i=cc._decorator,p=i.ccclass,l=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.prototype.onLoad=function(){e.prototype.onLoad.call(this),o.Instance=this},t.prototype.start=function(){},t.prototype.SetMessageType=function(){return s.MessageType.Type_Enemy},o=c([p],t)}(a.default));o.default=l,cc._RF.pop()},{"../Base/ManagerBase":"ManagerBase","../Base/Message":"Message"}],EnemyStateControl:[function(e,t,o){"use strict";cc._RF.push(t,"463424jfqJBGLC/4LIe5+4a","EnemyStateControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=e("./EnemyState/InitState"),i=e("./EnemyState/RunState"),p=e("./EnemyState/DieState"),l=e("./FSMManager"),u=e("../Controller/PlayerControl"),f=e("../Controller/scene/EnemyControl"),y=e("../Base/ComponentBase"),h=e("../Base/Message"),d=e("../Base/MessageCenter"),_=cc._decorator,g=_.ccclass,m=_.property;(function(e){e[e.Init=0]="Init",e[e.Run=1]="Run",e[e.Die=2]="Die"})(a||(a={}));var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.head_4=null,t.hp=0,t.total=0,t.progressBar=null,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){o.getHead_4=this.head_4,this.fsmManager=new l.default;var e=new s.default(a.Init,this,this.fsmManager),t=new i.default(a.Run,this,this.fsmManager),n=new p.default(a.Die,this,this.fsmManager);this.fsmManager.StateList=[e,t,n]},t.prototype.start=function(){},t.chengeHP=function(e,t){e.hp+=t,e.progressBar.progress=(e.hp<0?0:e.hp)/e.total,e.hp<0&&(d.default.SendCustomMessage(h.MessageType.Type_UI,h.MessageType.UI_RefreshScore,e.total),e.fsmManager.ChangeState(a.Die))},t.prototype.onEnable=function(){this.fsmManager.ChangeState(a.Init),this.hp=this.total=u.default.score+10,this.progressBar=this.node.children[2].children[0].getComponent(cc.ProgressBar),this.progressBar.progress=1},t.prototype.update=function(){-1!=this.fsmManager.CurrentIndex&&this.fsmManager.OnUpdate()},t.prototype.onCollisionEnter=function(e,t){-1!=this.fsmManager.CurrentIndex&&this.fsmManager.onCollisionEnterEvent(e,t)},t.prototype.onCollisionStay=function(e,t){-1!=this.fsmManager.CurrentIndex&&this.fsmManager.onCollisionStayEvent(e,t)},t.prototype.init=function(){this.fsmManager.ChangeState(a.Init)},t.prototype.run=function(){this.fsmManager.ChangeState(a.Run)},t.prototype.die=function(){this.fsmManager.ChangeState(a.Die)},t.prototype.dismiss=function(){this.getComponent(cc.Animation).stop(),this.node.children[2].opacity=0,f.default.EnemyPool.put(this.node)},t.getHead_4=null,t.isUser=!1,c([m(cc.SpriteFrame)],t.prototype,"head_4",void 0),o=c([g],t)}(y.default);o.default=b,cc._RF.pop()},{"../Base/ComponentBase":"ComponentBase","../Base/Message":"Message","../Base/MessageCenter":"MessageCenter","../Controller/PlayerControl":"PlayerControl","../Controller/scene/EnemyControl":"EnemyControl","./EnemyState/DieState":"DieState","./EnemyState/InitState":"InitState","./EnemyState/RunState":"RunState","./FSMManager":"FSMManager"}],Enemy:[function(e,t,o){"use strict";cc._RF.push(t,"6959axY90NIDKFOoT48iOif","Enemy");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.head_4=null,t}return r(t,e),t.prototype.start=function(){var e=this,t=this.node.getComponent(cc.Animation);t.play("EnemyMain"),setTimeout(function(){t.pause("EnemyMain"),t.play("EnemyRunR_1")},2e3);var o=this;setTimeout(function(){cc.log("pause"),t.pause("EnemyRunR_1"),o.node.children[1].getComponent(cc.Sprite).spriteFrame=o.head_4},3e3),setTimeout(function(){cc.log("resume"),e.node.runAction(cc.moveBy(1,cc.v2(0,-100))),setTimeout(function(){t.play("EnemyMain")},2e3)},4e3)},c([i(cc.SpriteFrame)],t.prototype,"head_4",void 0),c([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],FSMManager:[function(e,t,o){"use strict";cc._RF.push(t,"4bdcdIN4X9EvbOVYXhRZU5Y","FSMManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.StateList=[],this.CurrentIndex=-1}return e.prototype.ChangeState=function(e){this.CurrentIndex=e,this.StateList[this.CurrentIndex].OnEnter()},e.prototype.OnUpdate=function(){-1!=this.CurrentIndex&&this.StateList[this.CurrentIndex].OnUpdate()},e.prototype.onCollisionEnterEvent=function(e,t){-1!=this.CurrentIndex&&this.StateList[this.CurrentIndex].onCollisionEnterEvent(e,t)},e.prototype.onCollisionStayEvent=function(e,t){-1!=this.CurrentIndex&&this.StateList[this.CurrentIndex].onCollisionStayEvent(e,t)},e}();o.default=n,cc._RF.pop()},{}],FSMState:[function(e,t,o){"use strict";cc._RF.push(t,"a6aae3P7KhJgbXVGnMfZDjK","FSMState"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(e,t,o){this.StateID=e,this.component=t,this.fsmManager=o}return e.prototype.OnEnter=function(){},e.prototype.OnUpdate=function(){},e.prototype.onCollisionEnterEvent=function(){},e.prototype.onCollisionStayEvent=function(){},e}();o.default=n,cc._RF.pop()},{}],FontDamage:[function(e,t,o){"use strict";cc._RF.push(t,"bb062jH+Z1EdKsnyWi1vR7/","FontDamage");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../GamePlayer"),s=e("../Tools/CommonTools"),i=cc._decorator,p=i.ccclass,l=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labal=null,t}var o;return r(t,e),o=t,t.prototype.onEnable=function(){var e=this,t=o.getPointPI({x:this.node.x,y:0},30);t.y=this.node.y+s.default.getRandomNum(-20,20),cc.tween(this.node).to(0,{scaleX:.6,scaleY:1,position:cc.v3(cc.v2(t)),opacity:255}).to(1,{scaleX:{value:.6*1.5,easing:"elasticOut"},scaleY:{value:1.5,easing:"elasticOut"},position:{value:cc.v3(t.x,t.y+60),easing:function(e){return e*e*e*e*e*e}},opacity:{value:0,easing:"quintIn"}}).call(function(){a.default.FontDamagePool.put(e.node)}).start()},t.prototype.update=function(){},t.getPointPI=function(e,t){return o.angle+=20,o.angle>360&&(o.angle=0),e.x=e.x+Math.cos(o.angle*Math.PI/180)*t,e.y=e.y+Math.cos(o.angle*Math.PI/180)*t,e},t.angle=40,o=c([p],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../GamePlayer":"GamePlayer","../Tools/CommonTools":"CommonTools"}],GamePlayer:[function(e,t,o){"use strict";cc._RF.push(t,"d5835blhLpIy7yZhGUvv5l9","GamePlayer");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setSlippersPrefab=null,t.setRubbishPrefab=null,t.setFontDamagePrefab=null,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,o.getSlippersPrefab=this.setSlippersPrefab;for(var e=0;e<10;e++){var t=cc.instantiate(o.getSlippersPrefab);o.slippersPool.put(t)}for(o.getRubbishPrefab=this.setRubbishPrefab,e=0;e<10;e++)t=cc.instantiate(o.getRubbishPrefab),o.RubbishPool.put(t);for(o.getFontDamagePrefab=this.setFontDamagePrefab,e=0;e<100;e++)t=cc.instantiate(o.getFontDamagePrefab),o.FontDamagePool.put(t);for(e=0;e<100;e++)(t=new cc.Node("Label")).addComponent(cc.Label),t.addComponent(cc.BoxCollider).tag=101,t.anchorX=0,o.BarragePool.put(t)},t.prototype.start=function(){},t.getSlippersNode=function(){var e=o.slippersPool.get();return o.slippersPool.size()<1&&(e=cc.instantiate(o.getSlippersPrefab)),e},t.getRubbishNode=function(){var e=o.RubbishPool.get();return o.RubbishPool.size()<1&&(e=cc.instantiate(o.getRubbishPrefab)),e},t.getFontDamageNode=function(){var e=o.FontDamagePool.get();return o.FontDamagePool.size()<1&&(e=cc.instantiate(o.getFontDamagePrefab)),e},t.getBarrageNode=function(){var e=o.BarragePool.get();return o.BarragePool.size()<1&&((e=new cc.Node("Label")).addComponent(cc.Label),e.addComponent(cc.BoxCollider).tag=101,e.anchorX=0),e},t.getSlippersPrefab=null,t.slippersPool=new cc.NodePool,t.getRubbishPrefab=null,t.RubbishPool=new cc.NodePool,t.getFontDamagePrefab=null,t.FontDamagePool=new cc.NodePool,t.BarragePool=new cc.NodePool,c([i(cc.Prefab)],t.prototype,"setSlippersPrefab",void 0),c([i(cc.Prefab)],t.prototype,"setRubbishPrefab",void 0),c([i(cc.Prefab)],t.prototype,"setFontDamagePrefab",void 0),o=c([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],HPControl:[function(e,t,o){"use strict";cc._RF.push(t,"6d011Qwl7pMYqLT1hkNGlQw","HPControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){},c([i(cc.Label)],t.prototype,"label",void 0),c([i],t.prototype,"text",void 0),c([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],InitState:[function(e,t,o){"use strict";cc._RF.push(t,"ebcderkQ3dIjpHnZFBAv6YX","InitState");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../FSMState"),s=cc._decorator,i=s.ccclass,p=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.OnEnter=function(){e.prototype.OnEnter.call(this),this.component.node.children[2].opacity=0,this.component.node.opacity=255,this.component.getComponent(cc.Animation).play("EnemyMain")},t.prototype.OnUpdate=function(){e.prototype.OnUpdate.call(this)},c([i],t)}(a.default));o.default=p,cc._RF.pop()},{"../FSMState":"FSMState"}],ManagerBase:[function(e,t,o){"use strict";cc._RF.push(t,"6b1b6GKvJhABrqSn64aJx2E","ManagerBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var c=e("./ComponentBase"),a=e("./Message"),s=e("./MessageCenter"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReceiveList=[],t}return r(t,e),t.prototype.onLoad=function(){this.messageType=this.SetMessageType(),s.default.Managers.push(this)},t.prototype.SetMessageType=function(){return a.MessageType.Type_UI},t.prototype.RegisterReceiver=function(e){this.ReceiveList.push(e)},t.prototype.ReceivaMessage=function(t){if(e.prototype.ReceivaMessage.call(this,t),t.Type==this.messageType)for(var o=0,n=this.ReceiveList;o<n.length;o++)n[o].ReceivaMessage(t)},t}(c.default);o.default=i,cc._RF.pop()},{"./ComponentBase":"ComponentBase","./Message":"Message","./MessageCenter":"MessageCenter"}],MessageCenter:[function(e,t,o){"use strict";cc._RF.push(t,"d69achTItFG27GB/+oXndBF","MessageCenter"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Message"),r=function(){function e(){}return e.SendMessage=function(e){for(var t=0,o=this.Managers;t<o.length;t++)o[t].ReceivaMessage(e)},e.SendCustomMessage=function(e,t,o){var r=new n.Message(e,t,o);this.SendMessage(r)},e.Managers=[],e}();o.default=r,cc._RF.pop()},{"./Message":"Message"}],Message:[function(e,t,o){"use strict";cc._RF.push(t,"26cf2yGOGhMCK9JUnkRDkny","Message"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageType=o.Message=void 0;o.Message=function(e,t,o){this.Type=e,this.Command=t,this.Content=o};var n=function(){function e(){}return e.Type_UI=1,e.Type_Enemy=2,e.Type_Audio=3,e.UI_RefreshHP=101,e.UI_RefreshScore=102,e.UI_RefreshCoin=103,e.UI_ChengeSkillCD=104,e.Enemy_RefreshHP=105,e.UI_RefreshSkillSlippers=200,e.UI_RefreshSkillCD=202,e.UI_RefreshSkillRubbish=203,e.UI_RefreshSkillBarrage=204,e.NPC_npc1=10001,e.NPC_npc2=10002,e.NPC_npc3=10003,e.Enemy_enemy1=20001,e.Enemy_enemy2=20002,e.Enemy_enemy3=20003,e}();o.MessageType=n,cc._RF.pop()},{}],PlayerControl:[function(e,t,o){"use strict";cc._RF.push(t,"3eba1TDfC5J6Z4P95BP6PkS","PlayerControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var c=e("../Base/ComponentBase"),a=e("../Base/Message"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){},t.prototype.ReceivaMessage=function(t){if(e.prototype.ReceivaMessage.call(this,t),t.Command==a.MessageType.UI_RefreshHP){var o=t.Content;this.ChangeHp(o)}t.Command==a.MessageType.UI_RefreshScore&&(o=t.Content,this.ChangeScore(o)),t.Command==a.MessageType.UI_RefreshCoin&&(o=t.Content,this.ChangeCoin(o))},t.prototype.ChangeHp=function(e){t.hp+=e},t.prototype.ChangeScore=function(e){t.score+=e},t.prototype.ChangeCoin=function(e){t.coin+=e},t.score=0,t.coin=0,t.hp=100,t.strenght=1e5,t}(c.default);o.default=s,cc._RF.pop()},{"../Base/ComponentBase":"ComponentBase","../Base/Message":"Message"}],QABase:[function(e,t,o){"use strict";cc._RF.push(t,"534aeQfyyZJrbwjIGPMGBNa","QABase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(e,t,o){this.Question="",this.Answer1="",this.Answer2="",this.Question=e,this.Answer1=t,this.Answer2=o}return e.getInstance=function(){for(var t=0;t<e.question.length;t++)e.instance[t]=new e(e.question[t],e.answer[t][0],e.answer[t][1]);return e.instance},e.instance=[],e.question=["\u3010\u4e00\u53ea\u5c0f\u5f3a\u3011\u534a\u5e74\u53ef\u4ee5\u7e41\u884d\u6570\u4e07\u53ea\uff0c<br/>\u662f\u771f\u7684\u5417\uff1f","\u5c0f\u5f3a\u4e0d\u559d\u6c34\uff0c\u591a\u5c11\u5929\u4f1a\u6b7b\u4ea1\uff1f","\u5c0f\u5f3a\u6709\u6c34\u4e0d\u8fdb\u98df\u7269\uff0c\u5b58\u6d3b\u591a\u5c11\u5929\uff1f","\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u8e29\u6b7b\u87d1\u8782\u7684\u4e3b\u8981\u539f\u56e0"],e.answer=[["\u53ef\u80fd","\u4e0d\u53ef\u80fd"],["\u5927\u698230\u5929","\u5927\u698290\u5929"],["\u5927\u698290\u5929","\u5927\u698230\u5929"],["\u63d0\u524d\u4ea7\u5d3d","\u75c5\u6bd2"]],e}();o.default=n,cc._RF.pop()},{}],QAControl:[function(e,t,o){"use strict";cc._RF.push(t,"c8ed0HchG9H2ZeFR1/ZO47z","QAControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./QABase"),s=e("./Tools/CommonTools"),i=cc._decorator,p=i.ccclass,l=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){this.QAInstance=a.default.getInstance();var e=s.default.getRandomElement(this.QAInstance);this.node.children[0].getComponent(cc.RichText).string=e.Question,this.node.children[1].children[0].getComponent(cc.Label).string=e.Answer1,this.node.children[1].children[1].getComponent(cc.Label).string=e.Answer2},c([p],t)}(cc.Component));o.default=l,cc._RF.pop()},{"./QABase":"QABase","./Tools/CommonTools":"CommonTools"}],RubbishControl:[function(e,t,o){"use strict";cc._RF.push(t,"261c8Fphq5Ls4ngim80wGvm","RubbishControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Base/Message"),s=e("../Base/MessageCenter"),i=e("../GamePlayer"),p=e("../Tools/ActionFn"),l=e("../Tools/CommonTools"),u=e("./SkillsControl"),f=cc._decorator,y=f.ccclass,h=(f.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){this.control=u.SkillsControl.skills[2],this.coolDownEvent=l.default.throttle(this.createNode,1e3*this.control.cd),this.node.on(cc.Node.EventType.TOUCH_START,this.coolDownEvent,this)},t.prototype.createNode=function(){if(this.control.num){var e=i.default.getRubbishNode(),t=cc.find("Canvas/SITE");e.parent=t,this.control.cd&&p.default.maskAction(this.node.children[1],this.control.cd),s.default.SendCustomMessage(a.MessageType.Type_UI,a.MessageType.UI_RefreshSkillRubbish,-1)}},c([y],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../Base/Message":"Message","../Base/MessageCenter":"MessageCenter","../GamePlayer":"GamePlayer","../Tools/ActionFn":"ActionFn","../Tools/CommonTools":"CommonTools","./SkillsControl":"SkillsControl"}],Rubbish:[function(e,t,o){"use strict";cc._RF.push(t,"7f98cIRemdGvbAxhRw9PR9A","Rubbish");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){var e=this.getRandomNum(-1e5,1e5),t=this.node.getComponent(cc.RigidBody);t.applyForceToCenter(cc.v2(e,5e5),!0),t.angularVelocity=e>0?500:-500},t.prototype.getRandomNum=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.prototype.update=function(){this.node.y<-400&&this.node.destroy()},c([s],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],RunState:[function(e,t,o){"use strict";cc._RF.push(t,"1f277R0k4hHCrBqyeWQG9oC","RunState");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../Controller/PlayerControl"),a=e("../../GamePlayer"),s=e("../../prefab/Slippers"),i=e("../../Tools/CommonTools"),p=e("../EnemyStateControl"),l=function(e){function t(t,o,n){var r=e.call(this,t,o,n)||this;return r.hidePregress=null,r.progressBarNode=null,r.Injured=null,r.anime=null,r.init=!1,r.onBarrageInjured=null,r}return r(t,e),t.prototype.OnEnter=function(){var t=this;e.prototype.OnEnter.call(this),this.init||(this.progressBarNode=this.component.node.children[2],this.anime=this.component.getComponent(cc.Animation),this.hidePregress=i.default.debounce(function(e){cc.tween(e).to(.5,{opacity:0}).start()},1e3),this.Injured=i.default.throttle(function(){t.anime.pause("EnemyRunR_1"),t.component.node.children[1].getComponent(cc.Sprite).spriteFrame=p.default.getHead_4,t.component.scheduleOnce(function(){t.anime.resume("EnemyRunR_1")},1)},1e3),this.onBarrageInjured=i.default.throttle(this.onBarrageDamage,100)),this.anime.stop("EnemyMain"),this.anime.play("EnemyRunR_1")},t.prototype.OnUpdate=function(){e.prototype.OnUpdate.call(this)},t.prototype.onCollisionEnterEvent=function(t,o){if(0!=t.tag&&(e.prototype.onCollisionEnterEvent.call(this,t,o),100==t.tag)){this.onDamageTimer(),s.default.dismiss(t.node);var n=c.default.strenght*(Math.random()*(1.05-.95)+.95),r=a.default.getFontDamageNode();r.getComponent(cc.Label).string=""+n.toFixed(0);var i=o.node.convertToWorldSpaceAR(cc.v2(0,0));r.setPosition(i.x,i.y+100),r.parent=o.node.parent.parent.children[5]}},t.prototype.onCollisionStayEvent=function(t,o){0!=t.tag&&(e.prototype.onCollisionStayEvent.call(this,t,o),this.onBarrageInjured(t,o))},t.prototype.onDamageTimer=function(){0==this.progressBarNode.opacity&&(this.progressBarNode.opacity=255),this.hidePregress(this.progressBarNode),this.Injured()},t.prototype.onBarrageDamage=function(e,t){if(101==e.tag){this.onDamageTimer();var o=c.default.strenght*(Math.random()*(5.05-5.95)+5.95),n=a.default.getFontDamageNode();n.getComponent(cc.Label).string=""+o.toFixed(0);var r=t.node.convertToWorldSpaceAR(cc.v2(0,0));n.setPosition(r.x,r.y+100),n.parent=t.node.parent.parent.children[5]}},t}(e("../FSMState").default);o.default=l,cc._RF.pop()},{"../../Controller/PlayerControl":"PlayerControl","../../GamePlayer":"GamePlayer","../../Tools/CommonTools":"CommonTools","../../prefab/Slippers":"Slippers","../EnemyStateControl":"EnemyStateControl","../FSMState":"FSMState"}],SkillBarrage:[function(e,t,o){"use strict";cc._RF.push(t,"f86ebkVnwZP2LPXSSQISZv+","SkillBarrage");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cd=.5,t}return r(t,e),t.prototype.start=function(){},c([s],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],SkillRubbish:[function(e,t,o){"use strict";cc._RF.push(t,"c4ff9VqXllHYZXTidticOiK","SkillRubbish");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cd=.5,t}return r(t,e),t.prototype.start=function(){},t.prototype.attack=function(){cc.log("attack")},t.prototype.getDamageOutBase=function(e){return e},c([s],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],SkillSlippers:[function(e,t,o){"use strict";cc._RF.push(t,"2dd1cR1oK1Nhq1Pr+dEUhFB","SkillSlippers");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=null,t.cd=.5,t.num=0,t}return r(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.createNode,this)},t.prototype.attack=function(){cc.log("attack")},t.prototype.getDamageOutBase=function(e){return e},t.prototype.createNode=function(){var e=cc.instantiate(this.bulletPrefab),t=cc.find("Canvas/SITE");e.parent=t},c([i(cc.Prefab)],t.prototype,"bulletPrefab",void 0),c([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],SkillsControl:[function(e,t,o){"use strict";cc._RF.push(t,"caed0azcHlI+aMd1ePPnZvW","SkillsControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SkillsControl=void 0;var a=e("../Base/ComponentBase"),s=e("../Base/Message"),i=e("../UI/UIManager"),p=cc._decorator,l=p.ccclass,u=(p.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.prototype.onLoad=function(){},t.prototype.start=function(){for(var e=0;e<o.skills.length;e++)this.node.children[e].children[0].getComponent(cc.Label).string=o.skills[e].num+"";i.default.Instance.RegisterReceiver(this)},t.prototype.ReceivaMessage=function(t){if(e.prototype.ReceivaMessage.call(this,t),t.Command===s.MessageType.UI_RefreshSkillSlippers){var o=t.Content;this.ChangeSlipers(o)}t.Command===s.MessageType.UI_RefreshSkillCD&&(o=t.Content,this.ChangeCoolDown(o)),t.Command===s.MessageType.UI_RefreshSkillRubbish&&(o=t.Content,this.ChangeRubbish(o)),t.Command===s.MessageType.UI_RefreshSkillBarrage&&(o=t.Content,this.ChangeBarrage(o))},t.prototype.ChangeSlipers=function(e){var t=o.skills[0].num+=e;this.node.children[0].children[0].getComponent(cc.Label).string=t+""},t.prototype.ChangeCoolDown=function(e){var t=o.skills[1].num+=e;this.node.children[1].children[0].getComponent(cc.Label).string=t+""},t.prototype.ChangeRubbish=function(e){var t=o.skills[2].num+=e;this.node.children[2].children[0].getComponent(cc.Label).string=t+""},t.prototype.ChangeBarrage=function(e){var t=o.skills[3].num+=e;this.node.children[3].children[0].getComponent(cc.Label).string=t+""},t.skills=[{type:"\u62d6\u978b",code:200,cd:.5,num:1e3},{type:"\u51b7\u5374",code:202,cd:10,num:110},{type:"\u5783\u573e",code:203,cd:2,num:20},{type:"\u5f39\u5e55",code:204,cd:2,num:100}],o=c([l],t)}(a.default));o.SkillsControl=u,cc._RF.pop()},{"../Base/ComponentBase":"ComponentBase","../Base/Message":"Message","../UI/UIManager":"UIManager"}],SlippersControl:[function(e,t,o){"use strict";cc._RF.push(t,"9de4bnnRvlDpaUX02U326jr","SlippersControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Base/ComponentBase"),s=e("../Base/Message"),i=e("../Base/MessageCenter"),p=e("../GamePlayer"),l=e("../Tools/ActionFn"),u=e("../Tools/CommonTools"),f=e("../UI/UIManager"),y=e("./SkillsControl"),h=cc._decorator,d=h.ccclass,_=(h.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.control=y.SkillsControl.skills[0],this.coolDownEvent=u.default.throttle(this.createNode,1e3*this.control.cd),this.node.on(cc.Node.EventType.TOUCH_START,this.attack,this),f.default.Instance.RegisterReceiver(this)},t.prototype.ReceivaMessage=function(t){if(e.prototype.ReceivaMessage.call(this,t),t.Command===s.MessageType.UI_ChengeSkillCD){var o=t.Content;this.chengeCoolDown(o)}},t.prototype.attack=function(){this.control.cd?this.coolDownEvent():this.createNode()},t.prototype.getDamageOutBase=function(e){return e},t.prototype.createNode=function(){if(this.control.num){var e=p.default.getSlippersNode(),t=this.node.parent.parent.parent.children[2].children[4];e.parent=t,this.control.cd&&l.default.maskAction(this.node.children[1],this.control.cd),i.default.SendCustomMessage(s.MessageType.Type_UI,s.MessageType.UI_RefreshSkillSlippers,-1)}},t.prototype.chengeCoolDown=function(e){this.control.cd=e},c([d],t)}(a.default));o.default=_,cc._RF.pop()},{"../Base/ComponentBase":"ComponentBase","../Base/Message":"Message","../Base/MessageCenter":"MessageCenter","../GamePlayer":"GamePlayer","../Tools/ActionFn":"ActionFn","../Tools/CommonTools":"CommonTools","../UI/UIManager":"UIManager","./SkillsControl":"SkillsControl"}],Slippers:[function(e,t,o){"use strict";cc._RF.push(t,"184cb4cFuZLmZakmGHeCBY7","Slippers");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../GamePlayer"),s=cc._decorator,i=s.ccclass,p=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.prototype.onEnable=function(){var e=this.getRandomNum(-6e4,6e4),t=this.node.getComponent(cc.RigidBody);t.applyForceToCenter(cc.v2(e,6e5),!0),t.angularVelocity=e>0?500:-500},t.prototype.getRandomNum=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.prototype.update=function(){this.node.y<-380&&o.dismiss(this.node)},t.dismiss=function(e){setTimeout(function(){e.x=o.x,e.y=o.y,a.default.slippersPool.put(e)},100)},t.x=0,t.y=-350,o=c([i],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../GamePlayer":"GamePlayer"}],UIManager:[function(e,t,o){"use strict";cc._RF.push(t,"ffdf3X6LIFGkZR5vCqv59NV","UIManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Base/ManagerBase"),s=e("../Base/Message"),i=cc._decorator,p=i.ccclass,l=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.prototype.onLoad=function(){e.prototype.onLoad.call(this),o.Instance=this},t.prototype.start=function(){},t.prototype.SetMessageType=function(){return s.MessageType.Type_UI},o=c([p],t)}(a.default));o.default=l,cc._RF.pop()},{"../Base/ManagerBase":"ManagerBase","../Base/Message":"Message"}],UserInfo:[function(e,t,o){"use strict";cc._RF.push(t,"1172eWH541MtK6InHMvr5fn","UserInfo"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Cloud/Cloud"),r=e("../Tools/CommonTools"),c=function(){function e(e){this._userName=e.username||"",this._avatarUrl=e.avatarUrl||"",this._cion=1e3}return e.getInstance=function(){if(!e.instance){var t=r.default.getUrlParams(window.location.href).code;t&&(t=n.default.getUserInfo(t.code)),e.instance=new e(t)}return e.instance},e}();o.default=c,cc._RF.pop()},{"../Cloud/Cloud":"Cloud","../Tools/CommonTools":"CommonTools"}],awardItem:[function(e,t,o){"use strict";cc._RF.push(t,"1506cU660BFnoybmN8E2Sm6","awardItem");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,i=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPrefab=null,t.award=[{type:"\u62d6\u978b",code:200,Probability:.9},{type:"\u653b\u51fb\u529b",code:201,Probability:.2},{type:"\u51b7\u5374",code:202,Probability:.15},{type:"\u5783\u573e",code:203,Probability:.05},{type:"\u5f39\u5e55",code:204,Probability:.01}],t.awardData=[{type:"\u62d6\u978b",code:200,num:0},{type:"\u653b\u51fb\u529b",code:201,num:0},{type:"\u51b7\u5374",code:202,num:0},{type:"\u5783\u573e",code:203,num:0},{type:"\u5f39\u5e55",code:204,num:0}],t}return r(t,e),t.prototype.start=function(){var e=this,t=this.getAwardData(100);t=t.sort(function(e,t){return t.code-e.code});for(var o,n=function(n,c){if(t[n].num>0){var a=cc.instantiate(r.itemPrefab),s=a.children[0].getComponent(cc.Label);a.setPosition(320,0),s.string="x"+t[n].num;var i=c;c++,r.scheduleOnce(function(){a.parent=e.node.children[i];var t=cc.moveBy(.5,cc.v2(-320,0)),o=cc.fadeIn(.5),n=cc.spawn(t.easing(cc.easeOut(6)),o);a.runAction(n)},.1*n)}o=c},r=this,c=0,a=0;c<t.length;c++)n(c,a),a=o},t.prototype.getAward=function(){for(var e=this.award,t=Math.random(),o=0,n=0;n<e.length;n++)t<=e[n].Probability&&(o=n);return e[o].type},t.prototype.getAwardData=function(e){for(var t=this.awardData,o=0;o<e;o++)for(var n=this.getAward(),r=0;r<t.length;r++)t[r].type===n&&t[r].num++;return t},c([i(cc.Prefab)],t.prototype,"itemPrefab",void 0),c([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["Enemy","ComponentBase","ManagerBase","Message","MessageCenter","Cloud","BarrageControl","CDControl","HPControl","PlayerControl","RubbishControl","SkillsControl","SlippersControl","EnemyControl","GamePlayer","QABase","QAControl","SkillBarrage","SkillRubbish","SkillSlippers","EnemyStateControl","DieState","InitState","RunState","FSMManager","FSMState","ActionFn","CommonTools","EnemyManager","UIManager","UserInfo","Barrage","FontDamage","Rubbish","Slippers","awardItem"]);